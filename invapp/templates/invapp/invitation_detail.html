{% extends "invapp/base.html" %} {# Inherits from base.html #}

{% block title %}{{ event.title }}{% endblock %} {# Sets the page title #}

{% block header %}You're Invited to {{ event.title }}!{% endblock %} {# Sets the main heading #}

{% block content %}
    <h2>Event Details</h2>
    <p><strong>When:</strong> {{ event.date_time|date:"l, F j, Y" }} at {{ event.date_time|time:"g:i A" }}</p>
    <p><strong>Where:</strong> {{ event.venue_name }}</p>
    <p><strong>Address:</strong> {{ event.venue_address }}</p>
{# Add this below the address paragraph #}
{% if google_calendar_link %}
    <p>
        <a href="{{ google_calendar_link }}" target="_blank" rel="noopener noreferrer" style="padding: 8px 15px; background-color: #4285F4; color: white; text-decoration: none; border-radius: 4px;">
            Add to Google Calendar
        </a>
    </p>
{% endif %}
<hr> {# This hr should now be below the map #}
    <hr>
{# The map section might follow here #}
    {# We will add Map, Calendar Link, and RSVP Form here later #}
    {# Add this section above the RSVP part #}
{% if event.Maps_embed_url %}
<h2>Location Map</h2>
<div class="map-container" style="width: 100%; max-width: 600px; margin: 1em 0;"> {# Basic styling #}
    <iframe
        src="{{ event.Maps_embed_url }}"
        width="100%"
        height="400"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
    </iframe>
</div>
{% endif %}

    <h2>RSVP Section</h2>
    {# This replaces the placeholder paragraph #}
<p>
    <a href="{% url 'invapp:rsvp_form' guest_id=1 %}">RSVP Here</a> {# Replace 1 with the actual Guest ID you noted #}
</p>

{% endblock %} {# End of the main content block #}
{% extends "invapp/base_invite.html" %}
{% load static %}
{% load i18n %}

{% block page_specific_fonts %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Using a modern sans-serif (Poppins) and an elegant serif (Playfair Display) -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
{% endblock %}

{% block page_specific_styles %}
<style>
    body {
        background-color: #f7f3f0; /* A warm, creamy off-white */
        font-family: 'Poppins', sans-serif;
        color: #333;
    }
    .font-serif {
        font-family: 'Playfair Display', serif;
    }
    .text-overlay-title {
        font-size: 6rem;
        font-weight: 700;
        color: rgba(0, 0, 0, 0.04); /* Very light, transparent text */
        position: absolute;
        top: -1rem;
        left: 0;
        line-height: 1;
        z-index: 1;
        user-select: none;
    }
</style>
{% endblock %}


{% block content %}
<div class="max-w-2xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
    <div class="space-y-16">

        <!-- 1. Hero Section -->
        <section class="text-center">
            <!-- Main couple photo -->
            <div class="w-full aspect-[4/5] rounded-lg overflow-hidden shadow-lg mx-auto bg-gray-200">
                <!-- 
                  REPLACE THIS: 
                  Upload your main couple photo (portrait orientation) to your static files
                  and replace this 'https://placehold.co/...' URL.
                -->
                <img src="{% if event.couple_photo %}{{ event.couple_photo.url }}{% else %}https://placehold.co/800x1000/ccc/999?text=Your+Photo+Here{% endif %}" 
                     alt="{% translate 'Couple Photo' %}" class="w-full h-full object-cover">
            </div>

            <p class="mt-8 text-sm uppercase tracking-widest text-gray-500">{% translate "Together With Their Families" %}</p>
            <h1 class="font-serif text-5xl sm:text-7xl font-bold text-gray-900 mt-4">
                {{ event.bride_name|default:"Olivia" }}
            </h1>
            <h2 class="font-serif text-4xl sm:text-5xl font-light text-gray-700 mt-2">&</h2>
            <h1 class="font-serif text-5xl sm:text-7xl font-bold text-gray-900 mt-2">
                {{ event.groom_name|default:"Daniel" }}
            </h1>
            <p class="mt-6 text-lg text-gray-700">
                {% translate "invite you to celebrate their wedding" %}
            </p>
            <p class="font-serif text-3xl text-gray-900 mt-4">
                {{ event.event_date|date:"l, F j, Y" }}
            </p>
        </section>

        <!-- 2. Timing Section -->
        <section class="relative pt-12">
            <div class="text-overlay-title" aria-hidden="true">TIMING</div>
            <div class="relative z-10 space-y-6">
                <h3 class="font-serif text-4xl text-gray-900">{% translate "Order of Events" %}</h3>
                <!-- Ceremony -->
                <div class="flex space-x-4">
                    <div class="w-1/3 text-lg font-semibold text-gray-900">{{ event.ceremony_time|default:"04:00 PM" }}</div>
                    <div class="w-2/3">
                        <h4 class="text-lg font-semibold text-gray-900">{% translate "Ceremony" %}</h4>
                        <p class="text-sm text-gray-600">{{ event.ceremony_location|default:"The Garden Venue, 123 Main St" }}</p>
                    </div>
                </div>
                <!-- Reception -->
                <div class="flex space-x-4">
                    <div class="w-1/3 text-lg font-semibold text-gray-900">{% translate "06:00 PM" %}</div>
                    <div class="w-2/3">
                        <h4 class="text-lg font-semibold text-gray-900">{% translate "Reception" %}</h4>
                        <p class="text-sm text-gray-600">{{ event.venue_name|default:"The Grand Hall" }}</p>
                        <p class="text-sm text-gray-600">{{ event.venue_address|default:"123 Main St, City, Country" }}</p>
                    </div>
                </div>
                <!-- Other details from your schedule -->
                <div class="text-sm text-gray-600 prose">
                    {{ event.schedule_details|linebreaksbr }}
                </div>
            </div>
        </section>
        
        <!-- 3. Second Photo Section -->
        <section>
            <div class="w-full aspect-video rounded-lg overflow-hidden shadow-lg mx-auto bg-gray-200">
                <!-- 
                  REPLACE THIS: 
                  Upload a second (landscape orientation) photo and replace this URL.
                -->
                <img src="{% if event.landscape_photo %}{{ event.landscape_photo.url }}{% else %}https://placehold.co/1200x675/ccc/999?text=Your+Second+Photo{% endif %}" 
                     alt="{% translate 'Couple Photo' %}" class="w-full h-full object-cover">
            </div>
        </section>

        <!-- 4. Location Section -->
        <section class="relative pt-12">
            <div class="text-overlay-title" aria-hidden="true">LOCATION</div>
            <div class="relative z-10 space-y-6">
                <h3 class="font-serif text-4xl text-gray-900">{% translate "Venue Details" %}</h3>
                <p class="text-gray-600">{% translate "Both the ceremony and reception will be held at:" %}</p>
                <div class="text-lg font-semibold text-gray-900">
                    <p>{{ event.venue_name|default:"The Grand Hall" }}</p>
                    <p>{{ event.venue_address|default:"123 Main St, City, Country" }}</p>
                </div>
                {% if event.party_maps_url %}
                    <a href="{{ event.party_maps_url }}" target="_blank" class="inline-block text-sm font-semibold text-indigo-600 hover:text-indigo-800">
                        {% translate "Get Directions" %} &rarr;
                    </a>
                {% endif %}
            </div>
        </section>

        <!-- 5. Details Section -->
        <section class="relative pt-12">
            <div class="text-overlay-title" aria-hidden="true">DETAILS</div>
            <div class="relative z-10 space-y-6">
                <h3 class="font-serif text-4xl text-gray-900">{% translate "Other Information" %}</h3>
                
                <!-- Dress Code -->
                <div>
                    <h4 class="text-lg font-semibold text-gray-900">{% translate "Dress Code" %}</h4>
                    <p class="text-sm text-gray-600">{% translate "We kindly request formal attire. (e.g., suits and cocktail dresses)." %}</p>
                </div>

                <!-- Other Info from your model -->
                <div class="text-sm text-gray-600 prose">
                    {{ event.other_info|linebreaksbr }}
                </div>
            </div>
        </section>

        <!-- 6. RSVP Section -->
        {% if not is_preview %}
        <section class="text-center pt-12">
            <h3 class="font-serif text-5xl text-gray-900">{% translate "Kindly RSVP" %}</h3>
            <p class="mt-4 text-gray-600">{% blocktranslate %}Please let us know if you can join our celebration by November 1st.{% endblocktranslate %}</p>
            <a href="{% url 'invapp:guest_invite' guest_uuid=guest.unique_id %}" class="mt-8 inline-block w-full sm:w-auto px-12 py-4 bg-gray-900 text-white font-semibold rounded-lg shadow-lg hover:bg-gray-700 transition-colors">
                {% translate "RSVP Now" %}
            </a>
        </section>
        {% endif %}

    </div>
</div>
{% endblock %}
{% extends "invapp/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}InvApp - {% translate "Create Perfect Invitations" %}{% endblock %}

{% block head_extra %}
    <style>
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Smooth Fade In Animation */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }

        /* Shimmer effect for Coming Soon Badge */
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .animate-shimmer {
            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
            background-size: 200% 100%;
            animation: shimmer 3s infinite;
        }
    </style>
{% endblock %}

<!-- Nav links override -->
{% block nav_links %}
    <a href="#features" class="inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-gray-500 hover:border-indigo-300 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white transition-colors">{% translate "Features" %}</a>
    <a href="#designs" class="inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-gray-500 hover:border-indigo-300 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white transition-colors">{% translate "Designs" %}</a>
    <a href="#about" class="inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-gray-500 hover:border-indigo-300 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white transition-colors">{% translate "About" %}</a>
    <a href="#pricing" class="inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-gray-500 hover:border-indigo-300 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white transition-colors">{% translate "Pricing" %}</a>
    {% if user.is_authenticated %}
        <a href="{% url 'invapp:dashboard' %}" class="inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-indigo-600 hover:border-indigo-300 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors">{% translate "Dashboard" %}</a>
    {% endif %}
{% endblock nav_links %}

{% block mobile_nav_links %}
    <a href="#features" class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 dark:text-gray-200 dark:hover:bg-gray-700">{% translate "Features" %}</a>
    <a href="#designs" class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 dark:text-gray-200 dark:hover:bg-gray-700">{% translate "Designs" %}</a>
    <a href="#about" class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 dark:text-gray-200 dark:hover:bg-gray-700">{% translate "About" %}</a>
    <a href="#pricing" class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 dark:text-gray-200 dark:hover:bg-gray-700">{% translate "Pricing" %}</a>
    {% if user.is_authenticated %}
        <a href="{% url 'invapp:dashboard' %}" class="block px-3 py-2 text-base font-medium text-indigo-600 hover:bg-indigo-50 dark:text-indigo-400 dark:hover:bg-gray-700">{% translate "Dashboard" %}</a>
    {% endif %}
{% endblock mobile_nav_links %}

{% block page_header %}{% endblock %}

{% block content %}
    <main class="-mt-6"> <!-- Negative margin to pull hero up if needed -->

        <!-- 1. Hero Section -->
        <section class="relative h-[85vh] min-h-[500px] flex items-center justify-center overflow-hidden">
            <!-- Background Image -->
            <div class="absolute inset-0 w-full h-full">
                <img src="{% if site_images.hero_bg %}{{ site_images.hero_bg.url }}{% else %}{% static 'images/d21nkkse.png' %}{% endif %}"
                     alt="Wedding atmosphere"
                     class="w-full h-full object-cover object-center transition-transform duration-[20s] hover:scale-110"
                     loading="eager">
            </div>
            <!-- Overlay -->
            <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/40 to-black/80"></div>

            <div class="relative z-10 px-4 text-center max-w-4xl mx-auto">
                <h1 class="text-5xl sm:text-6xl lg:text-7xl font-serif font-bold text-white tracking-tight drop-shadow-lg animate-fade-in-up">
                    {% translate "Create perfect invitation!" %}
                </h1>
                <p class="mt-6 text-lg sm:text-xl text-gray-200 max-w-2xl mx-auto font-light leading-relaxed animate-fade-in-up delay-100">
                    {% translate "Easy create and organize guest list. Share story with a beautiful, elegant and digital invitation." %}
                </p>
                <div class="mt-10 animate-fade-in-up delay-200">
                    <a href="{% url 'account_signup' %}" class="inline-flex items-center px-8 py-4 text-lg font-semibold text-indigo-900 bg-white rounded-full hover:bg-indigo-50 hover:scale-105 transition-all duration-300 shadow-xl ring-4 ring-white/30">
                        {% translate "Start now! For free!" %}
                        <svg class="ml-2 -mr-1 w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                    </a>
                </div>
            </div>

            <!-- Scroll Down Indicator -->
            <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce text-white/70">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-24 bg-white dark:bg-gray-800">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <span class="text-indigo-600 font-semibold tracking-wider uppercase text-sm">{% translate "Why InvApp?" %}</span>
                    <h2 class="mt-2 text-4xl font-serif font-bold text-gray-900 dark:text-white">{% translate "Everything you need for your event" %}</h2>
                    <p class="mt-4 text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">{% translate "We provide powerful tools to make your wedding planning stress-free and enjoyable." %}</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Feature 1 -->
                    <div class="p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl hover:shadow-lg transition-all duration-300 border border-transparent hover:border-indigo-100 dark:hover:border-indigo-800 text-center group">
                        <div class="w-14 h-14 mx-auto bg-indigo-100 dark:bg-indigo-900/50 rounded-xl flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-6 group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">{% translate "Guest Management" %}</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">{% translate "Easily manage your guest list, track RSVPs, and organize details in one place." %}</p>
                    </div>

                    <!-- Feature 2 -->
                    <div class="p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl hover:shadow-lg transition-all duration-300 border border-transparent hover:border-indigo-100 dark:hover:border-indigo-800 text-center group">
                        <div class="w-14 h-14 mx-auto bg-pink-100 dark:bg-pink-900/50 rounded-xl flex items-center justify-center text-pink-600 dark:text-pink-400 mb-6 group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">{% translate "Digital RSVP" %}</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">{% translate "Receive instant confirmations, meal preferences, and more." %}</p>
                    </div>

                    <!-- Feature 3 -->
                    <div class="p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl hover:shadow-lg transition-all duration-300 border border-transparent hover:border-indigo-100 dark:hover:border-indigo-800 text-center group">
                        <div class="w-14 h-14 mx-auto bg-green-100 dark:bg-green-900/50 rounded-xl flex items-center justify-center text-green-600 dark:text-green-400 mb-6 group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">{% translate "Table Planning" %}</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">{% translate "Organize seating charts effortlessly with our intuitive table assignment tool." %}</p>
                    </div>

                    <!-- Feature 4 -->
                    <div class="p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl hover:shadow-lg transition-all duration-300 border border-transparent hover:border-indigo-100 dark:hover:border-indigo-800 text-center group">
                        <div class="w-14 h-14 mx-auto bg-yellow-100 dark:bg-yellow-900/50 rounded-xl flex items-center justify-center text-yellow-600 dark:text-yellow-400 mb-6 group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">{% translate "Multi-Language" %}</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">{% translate "Create invitations in multiple languages for your international guests." %}</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. Design Carousel Section -->
        <section id="designs" class="py-20 bg-gray-50 dark:bg-gray-900">
             <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <span class="text-indigo-600 font-semibold tracking-wider uppercase text-sm">{% translate "Collection" %}</span>
                    <h2 class="mt-2 text-4xl font-serif font-bold text-gray-900 dark:text-white">{% translate "Choose your style" %}</h2>
                    <p class="mt-4 text-lg text-gray-600 dark:text-gray-400">{% translate "Select from our collection of designs." %}</p>
                </div>

                <div class="relative group/designs">
                    <!-- Fading edges -->
                    <div class="absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-gray-50 to-transparent z-10 dark:from-gray-900 pointer-events-none"></div>
                    <div class="absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-gray-50 to-transparent z-10 dark:from-gray-900 pointer-events-none"></div>

                    <!-- Navigation Buttons (Designs) -->
                    <button onclick="scrollContainer('designs-carousel', -1)" class="absolute left-2 top-1/2 transform -translate-y-1/2 z-20 bg-white/90 dark:bg-gray-800/90 p-3 rounded-full shadow-lg hover:bg-white dark:hover:bg-gray-700 text-gray-800 dark:text-white transition-all focus:outline-none opacity-0 group-hover/designs:opacity-100 transition-opacity duration-300 hidden md:block">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                    </button>
                    <button onclick="scrollContainer('designs-carousel', 1)" class="absolute right-2 top-1/2 transform -translate-y-1/2 z-20 bg-white/90 dark:bg-gray-800/90 p-3 rounded-full shadow-lg hover:bg-white dark:hover:bg-gray-700 text-gray-800 dark:text-white transition-all focus:outline-none opacity-0 group-hover/designs:opacity-100 transition-opacity duration-300 hidden md:block">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </button>

                    <div id="designs-carousel" class="flex space-x-6 overflow-x-auto pb-8 px-4 no-scrollbar snap-x snap-mandatory scroll-smooth">
                        {% for design in designs %}
                            <div class="flex-shrink-0 w-72 sm:w-80 snap-center">
                                <div onclick="openModal('{% if design.preview_image %}{{ design.preview_image.url }}{% elif design.preview_image_path %}{% static design.preview_image_path %}{% endif %}', '{{ design.name }}')"
                                     class="group/card cursor-pointer bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border border-gray-100 dark:border-gray-700 h-full flex flex-col relative">

                                        <div class="h-96 bg-gray-100 dark:bg-gray-700 overflow-hidden relative">
                                            {% if design.preview_image %}
                                                <img src="{{ design.preview_image.url }}" alt="{{ design.name }} Preview" class="w-full h-full object-cover transition-transform duration-700 group-hover/card:scale-110" loading="lazy">
                                            {% elif design.preview_image_path %}
                                                <img src="{% static design.preview_image_path %}" alt="{{ design.name }} Preview" class="w-full h-full object-cover transition-transform duration-700 group-hover/card:scale-110" loading="lazy">
                                            {% else %}
                                                <img src="https://placehold.co/400x500/E0C9A6/5D4037?text={{ design.name|urlencode }}" alt="{{ design.name }} Preview" class="w-full h-full object-cover" loading="lazy">
                                            {% endif %}

                                            <!-- Badge Multi-language -->
                                            {% if design.is_multilanguage %}
                                                <div class="absolute top-3 right-3 bg-white/90 backdrop-blur-sm text-indigo-600 px-2 py-1 rounded-full shadow-md flex items-center gap-1 z-20" title="{% translate 'Multi-language Supported' %}">
                                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path></svg>
                                                    <span class="text-[10px] font-bold uppercase tracking-wide">{% translate "Multi-lang" %}</span>
                                                </div>
                                            {% endif %}

                                            <div class="absolute inset-0 bg-black/20 opacity-0 group-hover/card:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                                <span class="bg-white/90 text-gray-900 px-4 py-2 rounded-full text-sm font-semibold shadow-lg backdrop-blur-sm">{% translate "Preview" %}</span>
                                            </div>
                                         </div>
                                        <div class="p-6 flex-grow">
                                            <h3 class="text-xl font-bold font-serif text-gray-900 dark:text-white">{{ design.name }}</h3>
                                             <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 line-clamp-2">{{ design.description|default:"A beautiful design for your special day." }}</p>
                                         </div>
                                </div>
                            </div>
                        {% empty %}
                            <p class="w-full text-center text-gray-500 py-10">{% translate "No designs are available right now. Please check back soon!" %}</p>
                        {% endfor %}
                    </div>
                </div>
                 <div class="mt-4 text-center text-gray-400 text-sm italic">
                    <p>{% translate "... more beautiful designs coming soon!" %}</p>
                </div>
            </div>
        </section>

        <!-- 3. About Section (Dynamic) -->
        <section id="about" class="py-24 bg-white dark:bg-gray-800 relative overflow-hidden">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
                <div class="inline-block p-3 rounded-full bg-indigo-50 dark:bg-indigo-900/30 mb-6">
                    <!-- Iconita Dinamica -->
                    {% if about_section and about_section.icon_svg_path %}
                        <svg class="w-8 h-8 {{ about_section.color_class }}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            {{ about_section.icon_svg_path|safe }}
                        </svg>
                    {% else %}
                        <!-- Fallback Icon -->
                        <svg class="w-8 h-8 text-indigo-600 dark:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
                    {% endif %}
                </div>

                <h2 class="text-4xl font-serif font-bold text-gray-900 dark:text-white mb-8">
                    {% if about_section %}{{ about_section.title }}{% else %}{% translate "Crafted with Love" %}{% endif %}
                </h2>

                <p class="text-xl text-gray-600 dark:text-gray-300 leading-relaxed font-light">
                    {% if about_section %}
                        {{ about_section.description|linebreaksbr }}
                    {% else %}
                        {% translate "We believe the magic of an event begins with the invitation. Our mission is to empower you with an intuitive and inspiring tool to craft breathtaking invitations that spark excitement and connection. We're here to ensure every part of your journey, especially managing your guest list, is as joyful and effortless as the celebration itself." %}
                    {% endif %}
                </p>
            </div>
        </section>

        <!-- 4. Pricing Plans Section (Hybrid) -->
        <section id="pricing" class="py-24 bg-gray-50 dark:bg-gray-900 overflow-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <span class="text-indigo-600 font-semibold tracking-wider uppercase text-sm">{% translate "Pricing" %}</span>
                <h2 class="mt-2 text-4xl font-serif font-bold text-gray-900 dark:text-white">
                    {% translate "Choose a Plan That's Right For You" %}
                </h2>

                <div class="mt-16 relative group/pricing">
                    <!-- Nav Buttons -->
                    <button onclick="scrollContainer('pricing-container', -1)" class="absolute left-0 top-1/2 transform -translate-y-1/2 z-20 bg-white/90 dark:bg-gray-800/90 p-3 rounded-full shadow-lg hover:bg-white dark:hover:bg-gray-700 text-gray-800 dark:text-white transition-all focus:outline-none opacity-0 group-hover/pricing:opacity-100 {% if plans|length <= 3 %}lg:hidden{% endif %}">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                    </button>
                    <button onclick="scrollContainer('pricing-container', 1)" class="absolute right-0 top-1/2 transform -translate-y-1/2 z-20 bg-white/90 dark:bg-gray-800/90 p-3 rounded-full shadow-lg hover:bg-white dark:hover:bg-gray-700 text-gray-800 dark:text-white transition-all focus:outline-none opacity-0 group-hover/pricing:opacity-100 {% if plans|length <= 3 %}lg:hidden{% endif %}">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </button>

                    <div id="pricing-container" class="
                        flex flex-nowrap overflow-x-auto snap-x snap-mandatory gap-6 py-10 px-4 items-stretch justify-start scroll-smooth
                        no-scrollbar
                        {% if plans|length <= 3 %}
                            lg:grid lg:grid-cols-3 lg:gap-8 lg:overflow-visible lg:justify-center lg:px-0 lg:snap-none
                        {% else %}
                            lg:gap-8 lg:justify-start
                        {% endif %}
                    ">
                        {% for plan in plans %}
                            <div class="
                                snap-center flex-shrink-0 w-[85vw] sm:w-[320px] flex flex-col h-full
                                {% if plans|length <= 3 %}
                                    lg:w-auto
                                {% endif %}
                            ">
                                <div class="relative flex flex-col h-full p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg transition-transform duration-300 hover:-translate-y-2 hover:shadow-2xl border border-gray-100 dark:border-gray-700
                                    {% if plan.featured %}ring-2 ring-indigo-500 scale-[1.02] z-10{% endif %}">

                                    {% if plan.featured %}
                                        <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20">
                                            <span class="inline-flex items-center rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 px-4 py-1 text-[10px] font-bold text-white uppercase tracking-wide shadow-md whitespace-nowrap">
                                                {% translate "Most Popular" %}
                                            </span>
                                        </div>
                                    {% endif %}

                                    <div class="mb-2 {% if plan.featured %}mt-2{% endif %}">
                                        <!-- Dynamic Pricing Icon -->
                                        {% if plan.icon_svg_path %}
                                            <div class="mb-4">
                                                <div class="inline-flex items-center justify-center p-2 rounded-xl bg-gray-50 dark:bg-gray-700/50">
                                                    <svg class="h-8 w-8 {{ plan.color_class|default:'text-indigo-600' }}" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                                        {{ plan.icon_svg_path|safe }}
                                                    </svg>
                                                </div>
                                            </div>
                                        {% endif %}

                                        <h3 class="text-xl font-bold text-gray-900 dark:text-white truncate" title="{{ plan.name }}">{{ plan.name }}</h3>
                                        <p class="mt-2 text-xs text-gray-500 dark:text-gray-400 min-h-[4rem] leading-relaxed">
                                            {{ plan.description|linebreaksbr }}
                                        </p>
                                    </div>

                                    <div class="my-4 pb-4 border-b border-gray-100 dark:border-gray-700">
                                        <span class="text-4xl font-extrabold text-gray-900 dark:text-white">{{ plan.price|floatformat:0 }}</span>
                                        <span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"> RON / {% translate "event" %}</span>
                                    </div>

                                    <!-- MODIFICARE: Listă Dinamică din Admin -->
                                    <ul class="space-y-2 mb-6 flex-grow text-left">
                                        <!-- 1. Afișăm features custom definite în Admin -->
                                        {% for feature in plan.features.all %}
                                            <li class="flex items-center">
                                                {% if feature.is_included %}
                                                    <!-- Icon Verde (Check) -->
                                                    <svg class="h-4 w-4 text-green-500 mr-2 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                                    </svg>
                                                    <span class="text-sm text-gray-600 dark:text-gray-300">{{ feature.text }}</span>
                                                {% else %}
                                                    <!-- Icon Gri/Roșu (X sau Minus) -->
                                                    <svg class="h-4 w-4 text-gray-400 mr-2 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                                                    </svg>
                                                    <span class="text-sm text-gray-400 line-through decoration-gray-400">{{ feature.text }}</span>
                                                {% endif %}
                                            </li>
                                        {% endfor %}

                                        <!-- 2. (Opțional) Păstrăm logica hardcodată veche ca fallback sau pentru chestii de sistem critice -->
                                        <!-- De exemplu, Max Guests e un câmp tehnic, poate vrei să-l afișezi mereu primul -->
                                        {% if not plan.features.exists %}
                                             <li class="flex items-center">
                                                <svg class="h-4 w-4 text-green-500 mr-2 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
                                                <span class="text-sm text-gray-600 dark:text-gray-300">{% translate "Up to" %} <strong class="text-gray-900 dark:text-white">{{ plan.max_guests }}</strong> {% translate "Guests" %}</span>
                                            </li>
                                            <!-- ... restul listei vechi ... -->
                                        {% endif %}
                                    </ul>

                                    {% if plan.price == 0 %}
                                        <a href="{% url 'account_signup' %}" class="block w-full py-2.5 px-4 rounded-lg text-center font-bold bg-gray-100 text-gray-900 hover:bg-gray-200 transition-colors text-sm">
                                            {% translate "Start for free" %}
                                        </a>
                                    {% else %}
                                        <a href="{% url 'invapp:manual_upgrade_page' plan_id=plan.id %}" class="block w-full py-2.5 px-4 rounded-lg text-center font-bold bg-indigo-600 text-white hover:bg-indigo-700 shadow-md hover:shadow-lg transition-all text-sm">
                                            {% translate "Get Started" %}
                                        </a>
                                    {% endif %}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Future Updates (Timeline Roadmap) Section -->
        {% if future_features %}
        <section id="roadmap" class="py-20 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <span class="inline-block py-1 px-3 rounded-full bg-indigo-50 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 text-xs font-bold tracking-wider uppercase mb-2">
                        {% translate "Roadmap" %}
                    </span>
                    <h2 class="text-3xl font-serif font-bold text-gray-900 dark:text-white">
                        {% translate "Coming Soon" %}
                    </h2>
                    <p class="mt-4 text-gray-500 dark:text-gray-400">
                        {% translate "We are constantly working to improve your experience." %}
                    </p>
                </div>

                <!-- Vertical Timeline -->
                <div class="relative border-l-2 border-indigo-100 dark:border-indigo-900 ml-3 md:ml-0 md:pl-0 md:space-y-12 space-y-12">
                    {% for feature in future_features %}
                    <div class="relative md:flex items-center justify-between group">

                        <!-- Dot on Line -->
                        <div class="absolute -left-3 md:left-1/2 md:-ml-3 w-6 h-6 rounded-full border-4 border-white dark:border-gray-800 bg-indigo-500 z-10 shadow-md group-hover:scale-125 transition-transform duration-300"></div>

                        <!-- Date/Status (Left on Desktop) -->
                        <div class="ml-8 md:ml-0 md:w-5/12 md:text-right md:pr-10 mb-2 md:mb-0">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200">
                                {% translate "IN PROGRESS" %}
                            </span>
                        </div>

                        <!-- Content (Right on Desktop) -->
                        <div class="ml-8 md:ml-0 md:w-5/12 md:pl-10">
                            <div class="p-6 bg-gray-50 dark:bg-gray-700/50 rounded-xl hover:shadow-lg transition-all duration-300 border border-transparent hover:border-indigo-100 dark:hover:border-indigo-800">
                                <div class="flex items-center mb-3">
                                    <!-- Dynamic Icon Logic -->
                                    <div class="w-8 h-8 rounded-lg bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center mr-3">
                                        {% if feature.icon_svg_path %}
                                            <svg class="w-5 h-5 {{ feature.color_class }}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                {{ feature.icon_svg_path|safe }}
                                            </svg>
                                        {% else %}
                                            <!-- Fallback Icon (Lightbulb) -->
                                            <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                                            </svg>
                                        {% endif %}
                                    </div>
                                    <h3 class="text-lg font-bold text-gray-900 dark:text-white">{{ feature.title }}</h3>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed">
                                    {{ feature.description }}
                                </p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>
        {% endif %}

               6. <!-- REVIEWS CAROUSEL -->
            {% include "invapp/includes/reviews_carousel_3d.html" %}

        <!-- 7. FAQ Teaser / Still Have Questions -->
        <section class="py-16 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700">
            <div class="max-w-4xl mx-auto px-4 text-center">
                <h2 class="text-3xl font-serif font-bold text-gray-900 dark:text-white mb-4">
                    {% translate "Still have questions?" %}
                </h2>
                <p class="text-lg text-gray-600 dark:text-gray-300 mb-8 font-light">
                    {% translate "Browse our Frequently Asked Questions to find out more about how to create the perfect invitation." %}
                </p>
                <a href="{% url 'invapp:faq' %}" class="inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-full text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10 shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
                    {% translate "Visit FAQ Page" %}
                </a>
            </div>
        </section>

        <!-- 8. Footer -->
       <footer class="bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800">
            <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
                <div class="md:flex md:items-center md:justify-between">

                    <!-- Left: Logo & Copyright -->
                    <div class="flex flex-col space-y-2">
                        <a href="{% url 'invapp:landing_page' %}" class="text-2xl font-serif font-bold text-gray-900 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">InvApp</a>
                        <p class="text-sm text-gray-500 dark:text-gray-400">
                            &copy; {% now "Y" %} InvApp. {% translate "All rights reserved." %}
                        </p>
                    </div>

                    <!-- Center: Powered By -->
                    <div class="mt-8 md:mt-0 text-center">
                         <p class="text-sm text-gray-500 dark:text-gray-400">
                             Powered by <span class="font-semibold text-indigo-600 dark:text-indigo-400">Culori by Cristina Lupuleasa</span>
                         </p>
                    </div>

                    <!-- Right: Social Icons -->
                    <div class="flex space-x-6 mt-8 md:mt-0">
                        <!-- Facebook -->
                        <a href="https://www.facebook.com/culoribycristina" class="text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
                            <span class="sr-only">Facebook</span>
                            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" />
                            </svg>
                        </a>

                        <!-- Instagram -->
                        <a href="https://www.instagram.com/culori.flowers?igsh=amo2cHFpNWg3emVj&utm_source=qr" class="text-gray-400 hover:text-pink-600 dark:hover:text-pink-400 transition-colors">
                            <span class="sr-only">Instagram</span>
                            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.451 4.635c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </footer>

         <!-- Modal (Kept same as before) -->
         <div id="previewModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4 opacity-0 pointer-events-none transition-opacity duration-300 backdrop-blur-sm">
            <div class="relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full transform scale-95 transition-transform duration-300">
                <div class="flex justify-between items-center p-5 border-b dark:border-gray-700">
                    <h3 id="modalTitle" class="text-xl font-semibold text-gray-900 dark:text-gray-100 font-serif">Design Preview</h3>
                    <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-white text-3xl leading-none">&times;</button>
                </div>
                <div class="p-6">
                    <img id="modalImage" src="" alt="Design preview" class="w-full h-auto rounded-lg shadow-md max-h-[70vh] object-contain mx-auto">
                </div>
            </div>
        </div>
    </main>
{% endblock content %}

{% block extra_js %}
    <!-- Landing Page specific JavaScript -->
    <script>
        const modal = document.getElementById('previewModal');
        const modalImage = document.getElementById('modalImage');
        const modalTitle = document.getElementById('modalTitle');
        const modalContent = modal.querySelector('.transform');

        function openModal(imageUrl, designName) {
            if (!imageUrl) return;
            modalImage.src = imageUrl;
            modalTitle.textContent = designName;
            modal.classList.remove('opacity-0', 'pointer-events-none');
            if(modalContent) {
                modalContent.classList.remove('scale-95');
                modalContent.classList.add('scale-100');
            }
        }

        function closeModal() {
            modal.classList.add('opacity-0');
            if(modalContent) {
                modalContent.classList.remove('scale-100');
                modalContent.classList.add('scale-95');
            }
            setTimeout(() => {
                modal.classList.add('pointer-events-none');
            }, 300);
        }

        modal.addEventListener('click', (event) => {
            if (event.target === modal) closeModal();
        });

        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && !modal.classList.contains('pointer-events-none')) {
                closeModal();
            }
        });

        // Function to scroll carousels
        function scrollContainer(containerId, direction) {
            const container = document.getElementById(containerId);
            const scrollAmount = 350; // Adjust scroll distance
            if (container) {
                container.scrollBy({
                    left: direction * scrollAmount,
                    behavior: 'smooth'
                });
            }
        }
    </script>
{% endblock extra_js %}